<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>~ For My Mayalu, My Suprina ~</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap');
        body {
            font-family: 'Indie Flower', cursive;
            background-color: #fff1f2;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }
        
        .shake {
            animation: shake 0.3s ease-in-out;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 text-center">

    <audio id="valentine-music">
        <source src="./Celline_Dion_-_My_Heart_Will_Go_On_(mp3.pm).mp3" type="audio/mpeg">
    </audio>

    <div id="question-container" class="bg-white/70 p-8 rounded-3xl backdrop-blur-md shadow-2xl border border-white max-w-lg w-full transition-all">
        <img id="display-image" src="https://gifdb.com/images/high/shy-panda-chibi-sticker-fhl107zbxo8m684p.webp" 
             alt="Cute shy panda" class="w-48 h-48 mb-6 mx-auto transition-transform hover:scale-110">
        
        <h1 id="main-text" class="text-3xl md:text-4xl font-bold text-pink-600 mb-8">Will you be my Valentine, my Mayalu?üíñ</h1>

        <div class="flex flex-col md:flex-row items-center justify-center gap-6" id="button-group">
            <button id="yes-btn" class="bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 px-10 rounded-full shadow-lg transition-all duration-200 z-50">
                YES!
            </button>
            <button id="no-btn" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-full shadow-md transition-all duration-200">
                No
            </button>
        </div>
    </div>

    <script>
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const container = document.getElementById('question-container');
        const displayImage = document.getElementById('display-image');
        const mainText = document.getElementById('main-text');
        const music = document.getElementById('valentine-music');

        let clickCount = 0;
        const noTexts = [
            "Are you sure?", 
            "Really sure??", 
            "The panda is crying now ü•∫", 
            "I'll buy you unlimited momos! ü•ü", 
            "Wait, look at this face! üêº", 
            "My heart is breaking... üíî", 
            "Even the stars are sad now ‚≠êüò¢", 
            "I'll throw in bubble tea too! üßã", 
            "The panda wants to hide now... üôà",
            "Fine, I'll cook for you! üë®‚Äçüç≥",
            "OKAY SERIOUSLY JUST SAY YES! üò≠"
        ];
        
        const sadPandaImages = [
            "https://gifdb.com/images/high/shy-panda-chibi-sticker-fhl107zbxo8m684p.webp",
            "https://media.giphy.com/media/EatwJZRUIv41G/giphy.gif",
            "https://media.giphy.com/media/l2JhDUHELHrOeVhya/giphy.gif"
        ];

        noBtn.addEventListener('mouseover', () => {
            if(clickCount >= 2) {
                const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - 100);
                const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - 100);
                noBtn.style.position = 'fixed';
                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
                noBtn.style.transition = 'all 0.3s ease';
            }
        });

        noBtn.addEventListener('click', () => {
            clickCount++;
            
            // Shake the container
            container.classList.add('shake');
            setTimeout(() => container.classList.remove('shake'), 300);
            
            // Make YES button bigger
            const newSize = 1 + (clickCount * 0.5);
            yesBtn.style.transform = `scale(${newSize})`;
            
            // Change text
            noBtn.innerText = noTexts[Math.min(clickCount, noTexts.length - 1)];
            
            // Change panda image to sadder ones
            if(clickCount >= 3 && clickCount <= 5) {
                displayImage.src = sadPandaImages[Math.min(clickCount - 3, sadPandaImages.length - 1)];
            }
            
            // Make NO button smaller and smaller
            const noSize = Math.max(0.5, 1 - (clickCount * 0.1));
            noBtn.style.transform = `scale(${noSize})`;
            
            // Change background to sadder colors
            if(clickCount >= 5) {
                document.body.style.backgroundColor = '#fecaca';
            }
            
            // Update main text to be more dramatic
            if(clickCount === 7) {
                mainText.innerHTML = "Please... my Mayalu? ü•∫üíî";
            }
            if(clickCount === 10) {
                mainText.innerHTML = "I'm literally begging you... üò≠üôè";
                noBtn.style.opacity = '0.3';
            }
            
            // After 3 clicks, button runs away on hover
            if(clickCount >= 3) {
                noBtn.style.position = 'fixed';
            }
        });

        yesBtn.addEventListener('click', () => {
            // Play Music
            music.play();

            // Multiple confetti bursts
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#ff0000', '#ff69b4', '#ffb6c1', '#ff1493']
                });
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#ff0000', '#ff69b4', '#ffb6c1', '#ff1493']
                });
            }, 250);

            // Success message
            container.innerHTML = `
                <img src="./IMG_9667.jpg" alt="Success" class="w-64 h-auto mb-6 mx-auto rounded-2xl shadow-2xl border-4 border-pink-200">
                <h1 class="text-4xl font-bold text-pink-600 animate-pulse">Yayyyyyyyyyyy! üéâ</h1>
                <p class="text-lg mt-4 text-gray-600">I love you my mayalu ‚ù§Ô∏è I am so excited to see you on 14th. I can not wait for us to be together ! !</p>
                <div class="mt-6 text-pink-400 animate-bounce">‚ô´ Listening to My Heart Will Go On...</div>
                <p class="text-lg text-gray-700 leading-relaxed">
            To my favorite person, my kanchuu, <br><br>
          The stars aligned and the universe came together to make us meet. We found each other, when we were not looking. In a world of billions, somehow our paths crossed at exactly the right moment, as if destiny itself had been waiting for this. Every moment before you feels like it was leading me to you, and every moment since has been brighter because you're in it. You walked into my life and suddenly everything made sense all the waiting, all the searching, it was all worth it to find you, my Mayalu. You are my unexpected blessing, my favorite coincidence, the answer to prayers I didn't even know I was making. With you, I've found not just love, but home. You are my safe place, my laughter in the dark, my reason to believe in magic. I don't know what I did to deserve you, but I promise to spend every day showing you how grateful I am that the universe chose to bring us together. You are my greatest adventure, my sweetest dream come true, and I can't imagine my life without you in it. I love you more than words could ever express, mero Suprina. üíñ! I miss you mero mutu and I can't wait to see you.
        </p>
            `;
        });
    </script>
</body>
</html>
