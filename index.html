<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>~ For My Mayalu, My Suprina ~</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Indie+Flower&display=swap');
        body {
            font-family: 'Indie Flower', cursive;
            background-color: #fff1f2;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            75% { transform: translateX(10px) rotate(5deg); }
        }
        
        .shake {
            animation: shake 0.3s ease-in-out;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px #ffd700, 0 0 10px #ffd700, 0 0 15px #ffd700; }
            50% { box-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700; }
        }
        
        .treasure-btn {
            animation: glow 2s infinite;
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center p-4 text-center">

    <audio id="valentine-music">
        <source src="./Celline_Dion_-_My_Heart_Will_Go_On_(mp3.pm).mp3" type="audio/mpeg">
    </audio>

    <div id="question-container" class="bg-white/70 p-8 rounded-3xl backdrop-blur-md shadow-2xl border border-white max-w-lg w-full transition-all">
        <img id="display-image" src="https://gifdb.com/images/high/shy-panda-chibi-sticker-fhl107zbxo8m684p.webp" 
             alt="Cute shy panda" class="w-48 h-48 mb-6 mx-auto transition-transform hover:scale-110">
        
        <h1 id="main-text" class="text-3xl md:text-4xl font-bold text-pink-600 mb-8">Will you be my Valentine, my Mayalu?ğŸ’–</h1>

        <div class="flex flex-col md:flex-row items-center justify-center gap-6" id="button-group">
            <button id="yes-btn" class="bg-rose-500 hover:bg-rose-600 text-white font-bold py-4 px-10 rounded-full shadow-lg transition-all duration-200 z-50">
                YES!
            </button>
            <button id="no-btn" class="bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-8 rounded-full shadow-md transition-all duration-200">
                No
            </button>
        </div>
    </div>

    <!-- Treasure Hunt Modal -->
    <div id="treasure-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white/90 p-8 rounded-3xl backdrop-blur-md shadow-2xl max-w-md w-full">
            <h2 class="text-2xl font-bold text-pink-600 mb-4">ğŸ” Secret Treasure Unlock ğŸ”</h2>
            <p class="text-gray-700 mb-6">Answer these questions to unlock your special surprise!</p>
            
            <div class="mb-4">
                <label class="block text-left text-gray-700 font-semibold mb-2">What date did we first meet? (just the number)</label>
                <input type="text" id="answer1" class="w-full p-3 border-2 border-pink-300 rounded-lg focus:border-pink-500 outline-none" placeholder="Enter date...">
            </div>
            
            <div class="mb-6">
                <label class="block text-left text-gray-700 font-semibold mb-2">What day of the week did we first meet?</label>
                <input type="text" id="answer2" class="w-full p-3 border-2 border-pink-300 rounded-lg focus:border-pink-500 outline-none" placeholder="Enter day...">
            </div>
            
            <div id="error-message" class="hidden text-red-500 mb-4 font-semibold"></div>
            
            <div class="flex gap-4">
                <button id="submit-treasure" class="flex-1 bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-6 rounded-full">
                    Unlock ğŸ—ï¸
                </button>
                <button id="close-modal" class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-full">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const container = document.getElementById('question-container');
        const displayImage = document.getElementById('display-image');
        const mainText = document.getElementById('main-text');
        const music = document.getElementById('valentine-music');
        const treasureModal = document.getElementById('treasure-modal');
        const submitTreasure = document.getElementById('submit-treasure');
        const closeModal = document.getElementById('close-modal');
        const errorMessage = document.getElementById('error-message');

        let clickCount = 0;
        const noTexts = [
            "Are you sure?", 
            "Really sure??", 
            "The panda is crying now ğŸ¥º", 
            "I'll buy you unlimited momos! ğŸ¥Ÿ", 
            "Wait, look at this face! ğŸ¼", 
            "My heart is breaking... ğŸ’”", 
            "Even the stars are sad now â­ğŸ˜¢", 
            "I'll throw in bubble tea too! ğŸ§‹", 
            "The panda wants to hide now... ğŸ™ˆ",
            "Fine, I'll cook for you! ğŸ‘¨â€ğŸ³",
            "OKAY SERIOUSLY JUST SAY YES! ğŸ˜­"
        ];
        
        const sadPandaImages = [
            "https://gifdb.com/images/high/shy-panda-chibi-sticker-fhl107zbxo8m684p.webp",
            "https://media.giphy.com/media/EatwJZRUIv41G/giphy.gif",
            "https://media.giphy.com/media/l2JhDUHELHrOeVhya/giphy.gif"
        ];

        noBtn.addEventListener('mouseover', () => {
            if(clickCount >= 2) {
                const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - 100);
                const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - 100);
                noBtn.style.position = 'fixed';
                noBtn.style.left = x + 'px';
                noBtn.style.top = y + 'px';
                noBtn.style.transition = 'all 0.3s ease';
            }
        });

        noBtn.addEventListener('click', () => {
            clickCount++;
            
            container.classList.add('shake');
            setTimeout(() => container.classList.remove('shake'), 300);
            
            const newSize = 1 + (clickCount * 0.5);
            yesBtn.style.transform = `scale(${newSize})`;
            
            noBtn.innerText = noTexts[Math.min(clickCount, noTexts.length - 1)];
            
            if(clickCount >= 3 && clickCount <= 5) {
                displayImage.src = sadPandaImages[Math.min(clickCount - 3, sadPandaImages.length - 1)];
            }
            
            const noSize = Math.max(0.5, 1 - (clickCount * 0.1));
            noBtn.style.transform = `scale(${noSize})`;
            
            if(clickCount >= 5) {
                document.body.style.backgroundColor = '#fecaca';
            }
            
            if(clickCount === 7) {
                mainText.innerHTML = "Please... my Mayalu? ğŸ¥ºğŸ’”";
            }
            if(clickCount === 10) {
                mainText.innerHTML = "I'm literally begging you... ğŸ˜­ğŸ™";
                noBtn.style.opacity = '0.3';
            }
            
            if(clickCount >= 3) {
                noBtn.style.position = 'fixed';
            }
        });

        yesBtn.addEventListener('click', () => {
            music.play();

            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#ff0000', '#ff69b4', '#ffb6c1', '#ff1493']
                });
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#ff0000', '#ff69b4', '#ffb6c1', '#ff1493']
                });
            }, 250);

            container.innerHTML = `
                <img src="./IMG_9667.jpg" alt="Success" class="w-64 h-auto mb-6 mx-auto rounded-2xl shadow-2xl border-4 border-pink-200">
                <h1 class="text-4xl font-bold text-pink-600 animate-pulse">Yayyyyyyyyyyy! ğŸ‰</h1>
                <p class="text-lg mt-4 text-gray-600">I love you my mayalu â¤ï¸ I am so excited to see you on 14th. I can not wait for us to be together!</p>
                <div class="mt-6 text-pink-400 animate-bounce">â™« Listening to My Heart Will Go On...</div>
                <p class="text-lg text-gray-700 leading-relaxed mt-4">
                    To my favorite person, my kanchuu, <br><br>
                    The stars aligned and the universe came together to make us meet. We found each other, when we were not looking. In a world of billions, somehow our paths crossed at exactly the right moment, as if destiny itself had been waiting for this. Every moment before you feels like it was leading me to you, and every moment since has been brighter because you're in it. You walked into my life and suddenly everything made sense all the waiting, all the searching, it was all worth it to find you, my Mayalu. You are my unexpected blessing, my favorite coincidence, the answer to prayers I didn't even know I was making. With you, I've found not just love, but home. You are my safe place, my laughter in the dark, my reason to believe in magic. I don't know what I did to deserve you, but I promise to spend every day showing you how grateful I am that the universe chose to bring us together. You are my greatest adventure, my sweetest dream come true, and I can't imagine my life without you in it. I love you more than words could ever express, mero Suprina. ğŸ’–! I miss you mero mutu and I can't wait to see you.
                </p>
                <div class="mt-8">
                    <button id="treasure-btn" class="treasure-btn bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white font-bold py-4 px-8 rounded-full text-xl">
                        ğŸ Find Your Secret Treasure ğŸ
                    </button>
                </div>
            `;

            setTimeout(() => {
                document.getElementById('treasure-btn').addEventListener('click', () => {
                    treasureModal.classList.remove('hidden');
                });
            }, 100);
        });

        closeModal.addEventListener('click', () => {
            treasureModal.classList.add('hidden');
            errorMessage.classList.add('hidden');
        });

        submitTreasure.addEventListener('click', () => {
            const answer1 = document.getElementById('answer1').value.trim();
            const answer2 = document.getElementById('answer2').value.trim().toLowerCase();

            if (answer1 === '27' && answer2 === 'saturday') {
                window.location.href = 'treasure.html';
            } else {
                errorMessage.textContent = "Oops! ğŸš« This treasure is only for someone VERY special who knows our story! Try again, my love ğŸ’•";
                errorMessage.classList.remove('hidden');
                
                document.getElementById('answer1').value = '';
                document.getElementById('answer2').value = '';
            }
        });
    </script>
</body>
</html>
